@model IEnumerable<Project.Models.Customer>
@{
    Layout = "~/Views/Shared/_PrintLayout.cshtml";
}

<br /><br />
      <div class="panel panel-default">
          <div class="panel-heading">
              <div class="row">
                  <h2 class="panel-title pull-left" style="margin-left:10px;">
                      <strong>Master Order Details</strong>
                  </h2>
              </div>
          </div>

          @if (Model.Count() != 0)
          {
              foreach (var item in Model)
              {
                  <div class="panel-body">
                      <table class="table table-striped table-responsive">
                          <tbody>
                              <tr>
                                  <td>Customer Name : @item.Name </td>
                                  <td>Address : @item.Address </td>
                                  <td>Order Date : @item.OrderDate</td>
                              </tr>
                              <tr>
                                  <td colspan="3">
                                      <table class="table table-bordered">
                                          <tbody>
                                              <tr>
                                                  <th>Product</th>
                                                  <th>Quantity</th>
                                                  <th>Unit Price</th>
                                                  <th>Total</th>
                                              </tr>
                                              @{
                                                  var totalBill = 0;
                                              }
                                              @foreach (var order in item.Orders)
                                              {
                                                  <tr>
                                                      <td>@order.ProductName</td>
                                                      <td>@order.Quantity</td>
                                                      <td>@order.Price</td>
                                                      <td>@order.Amount</td>
                                                  </tr>
                                                  totalBill = totalBill + @Convert.ToInt32(order.Amount);
                                              }
                                          </tbody>
                                      </table>
                                      <span class="pull-right" style="margin-right:100px;"><strong>Total Bill :  </strong> @totalBill</span>
                                  </td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
              }
          }
          else
          {
              <div class="panel-body">
                  <h3 style="color:red;">Empty!</h3>
              </div>
          }

          <div class="panel-body">
              <table class="table table-striped table-responsive">
                  <thead>
                      <tr>
                          <th></th>
                          <th></th>
                          <th>Customer</th>
                          <th></th>
                          <th></th>
                          <th>Employee</th>
                      </tr>
                  </thead>
              </table>
          </div>
      </div>